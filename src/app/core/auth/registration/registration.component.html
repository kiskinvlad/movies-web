<div class="registration d-flex justify-content-center">
  <div *ngIf="sended">
    <h2>Mail sended. Check your email.</h2>
  </div>
  <form 
    *ngIf="!sended"
    class="d-flex flex-column col-12 col-md-6 col-lg-4"
    novalidate
    [formGroup]="registrationForm"
    (ngSubmit)="onSubmit()">
     <h2>Registration</h2>
     <div class="form-controls">
      <div class="control-wrapper">
        <input 
          class="form-control"
          [ngClass]="{ 'is-invalid': submitted && registrationForm.controls.firstName.errors }"
          formControlName="firstName"
          type="text" 
          placeholder="First Name">
        <div *ngIf="submitted && registrationForm.controls.firstName.errors" class="invalid-feedback">
          <div *ngIf="registrationForm.controls.firstName.errors.required">First name is mandatory</div>
        </div> 
      </div>
      <div class="form-controls">
        <div class="control-wrapper">
          <input 
            class="form-control"
            [ngClass]="{ 'is-invalid': submitted && registrationForm.controls.lastName.errors }"
            formControlName="lastName"
            type="text" 
            placeholder="Last Name">
          <div *ngIf="submitted && registrationForm.controls.lastName.errors" class="invalid-feedback">
            <div *ngIf="registrationForm.controls.lastName.errors.required">Last name is mandatory</div>
          </div> 
        </div>
      </div>
      <div class="form-controls">
        <div class="control-wrapper">
          <input 
            class="form-control" 
            [ngClass]="{ 'is-invalid': submitted && registrationForm.controls.email.errors }"
            formControlName="email"
            type="email" 
            placeholder="Email">
            <div *ngIf="submitted && registrationForm.controls.email.errors" class="invalid-feedback">
              <div *ngIf="registrationForm.controls.email.errors.required">Email is mandatory</div>
              <div *ngIf="registrationForm.controls.email.errors.email">Email is not valid</div>
              <div *ngIf="registrationForm.controls.email.errors.emailExist">
                {{errorMessage}}
              </div>
          </div> 
        </div>
      </div>
      <div class="form-controls">
        <div class="control-wrapper">
          <input 
            class="form-control" 
            [ngClass]="{ 'is-invalid': submitted && registrationForm.controls.password.errors }"
            formControlName="password"
            type="password" 
            placeholder="Password">
          <div *ngIf="submitted && registrationForm.controls.password.errors" class="invalid-feedback">
            <div *ngIf="registrationForm.controls.password.errors.required">Password is mandatory</div>
            <div *ngIf="registrationForm.controls.password.errors.minlength">Password must be at least 6 characters long</div>
          </div> 
        </div>
      </div>
      <div class="d-flex">
        <button class="btn btn-primary" type="submit">Sign Up</button>
      </div>
    </div>
    <div class="log-in">
      <p>Already Registered?</p>
      <div class="d-flex">
        <button class="btn btn-secondary" [routerLink]="routerPath.login" type="button">Log In</button>
      </div>
    </div>
  </form>
</div>